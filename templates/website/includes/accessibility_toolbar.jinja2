{# Accessibility Toolbar - WCAG 2.2 AAA Compliant #}
{# Inspired by OneTap but custom built without dependencies #}

{# Toggle Button - Fixed position #}
<button id="accessibility-toggle"
        class="a11y-toggle-btn"
        aria-label="{{ _('Apri strumenti accessibilità') }}"
        aria-expanded="false"
        aria-controls="accessibility-toolbar"
        title="{{ _('Accessibilità') }}">
    <i class="fas fa-universal-access" aria-hidden="true"></i>
</button>

{# Toolbar Panel #}
<div id="accessibility-toolbar"
     class="a11y-toolbar-panel"
     role="dialog"
     aria-label="{{ _('Strumenti accessibilità') }}"
     aria-modal="true"
     hidden>
    
    {# Header #}
    <div class="a11y-panel-header">
        <h2 class="a11y-panel-title">
            <i class="fas fa-universal-access" aria-hidden="true"></i>
            {{ _("Accessibilità") }}
        </h2>
        <button id="a11y-close-btn"
                class="a11y-close-btn"
                aria-label="{{ _('Chiudi strumenti accessibilità') }}">
            <i class="fas fa-times" aria-hidden="true"></i>
        </button>
    </div>
    
    {# Controls #}
    <div class="a11y-panel-content">
        
        {# Font Size Controls #}
        <div class="a11y-control-group">
            <h3 class="a11y-group-title">{{ _("Dimensione testo") }}</h3>
            <div class="a11y-button-group">
                <button data-a11y-action="font-decrease"
                        class="a11y-btn"
                        aria-label="{{ _('Riduci dimensione testo') }}">
                    <i class="fas fa-search-minus" aria-hidden="true"></i>
                    <span>A-</span>
                </button>
                <button data-a11y-action="font-increase"
                        class="a11y-btn"
                        aria-label="{{ _('Aumenta dimensione testo') }}">
                    <i class="fas fa-search-plus" aria-hidden="true"></i>
                    <span>A+</span>
                </button>
            </div>
        </div>
        
        {# Visual Controls #}
        <div class="a11y-control-group">
            <h3 class="a11y-group-title">{{ _("Visuale") }}</h3>
            <div class="a11y-grid">
                <button data-a11y-action="high-contrast"
                        class="a11y-btn a11y-toggle"
                        aria-label="{{ _('Alto contrasto') }}"
                        aria-pressed="false">
                    <i class="fas fa-adjust" aria-hidden="true"></i>
                    <span>{{ _("Alto contrasto") }}</span>
                </button>
                <button data-a11y-action="dyslexia-font"
                        class="a11y-btn a11y-toggle"
                        aria-label="{{ _('Font per dislessia') }}"
                        aria-pressed="false">
                    <i class="fas fa-font" aria-hidden="true"></i>
                    <span>{{ _("Font dislessia") }}</span>
                </button>
                <button data-a11y-action="highlight-links"
                        class="a11y-btn a11y-toggle"
                        aria-label="{{ _('Evidenzia link') }}"
                        aria-pressed="false">
                    <i class="fas fa-link" aria-hidden="true"></i>
                    <span>{{ _("Evidenzia link") }}</span>
                </button>
            </div>
        </div>
        
        {# Navigation Controls #}
        <div class="a11y-control-group">
            <h3 class="a11y-group-title">{{ _("Navigazione") }}</h3>
            <div class="a11y-grid">
                <button data-a11y-action="big-cursor"
                        class="a11y-btn a11y-toggle"
                        aria-label="{{ _('Cursore grande') }}"
                        aria-pressed="false">
                    <i class="fas fa-mouse-pointer" aria-hidden="true"></i>
                    <span>{{ _("Cursore grande") }}</span>
                </button>
                <button data-a11y-action="reading-guide"
                        class="a11y-btn a11y-toggle"
                        aria-label="{{ _('Guida di lettura') }}"
                        aria-pressed="false">
                    <i class="fas fa-glasses" aria-hidden="true"></i>
                    <span>{{ _("Guida lettura") }}</span>
                </button>
                <button data-a11y-action="stop-animations"
                        class="a11y-btn a11y-toggle"
                        aria-label="{{ _('Blocca animazioni') }}"
                        aria-pressed="false">
                    <i class="fas fa-pause-circle" aria-hidden="true"></i>
                    <span>{{ _("Stop animazioni") }}</span>
                </button>
            </div>
        </div>
        
        {# Reset Button #}
        <div class="a11y-control-group a11y-reset-group">
            <button data-a11y-action="reset"
                    class="a11y-btn a11y-reset-btn"
                    aria-label="{{ _('Ripristina impostazioni predefinite') }}">
                <i class="fas fa-undo" aria-hidden="true"></i>
                <span>{{ _("Ripristina tutto") }}</span>
            </button>
        </div>
        
    </div>
    
    {# Footer #}
    <div class="a11y-panel-footer">
        <p class="a11y-footer-text">
            <i class="fas fa-keyboard" aria-hidden="true"></i>
            {{ _("Premi Esc per chiudere") }}
        </p>
    </div>
</div>

{# Reading Guide Element #}
<div id="a11y-reading-guide" class="a11y-reading-guide" hidden aria-hidden="true"></div>

{# Include CSS and JS #}
<link rel="stylesheet" href="{{ static('css/accessibility.css') }}">
<script src="{{ static('js/accessibility.js') }}" defer></script>
<!-- AccessibilityToolbar: window.AccessibilityToolbar object exposed for accessibility features -->
